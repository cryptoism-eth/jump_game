<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jump or Die üïπÔ∏è</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        background-color: #111;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }
      #game {
        position: relative;
        width: 600px;
        height: 200px;
        background: linear-gradient(to top, #222, #333);
        border: 2px solid #555;
        border-radius: 12px;
        overflow: hidden;
      }
      #player {
        position: absolute;
        bottom: 50px;
        left: 50px;
        width: 30px;
        height: 30px;
        background: #ff4747;
        border-radius: 6px;
      }
      #obstacle {
        position: absolute;
        bottom: 50px;
        right: -40px;
        width: 30px;
        height: 30px;
        background: #00ff88;
        border-radius: 6px;
      }
      #game-over {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-size: 26px;
        display: none;
        text-align: center;
      }
      #restart {
        display: none;
        margin-top: 10px;
        padding: 6px 12px;
        background: #ff4747;
        border: none;
        color: white;
        border-radius: 6px;
        cursor: pointer;
      }
      #score {
        position: absolute;
        top: 10px;
        right: 20px;
        color: white;
        font-family: monospace;
      }
    </style>
  </head>
  <body>
    <div id="game">
      <div id="player"></div>
      <div id="obstacle"></div>
      <div id="game-over">
        Game Over üòµ<br />
        <button id="restart">Restart</button>
      </div>
      <div id="score">Score: 0</div>
    </div>

    <script>
      const player = document.getElementById("player");
      const obstacle = document.getElementById("obstacle");
      const gameOver = document.getElementById("game-over");
      const restartBtn = document.getElementById("restart");
      const scoreText = document.getElementById("score");

      let isJumping = false;
      let playerY = 0;
      let obstacleX = 600;
      let score = 0;
      let gameActive = true;

      // PC'de zƒ±plama
      document.addEventListener("keydown", (e) => {
        if (e.code === "Space" && !isJumping && gameActive) jump();
      });

      // üëá Mobil dokunma zƒ±plama
      document.addEventListener("touchstart", () => {
        if (!isJumping && gameActive) jump();
      });

      function jump() {
        isJumping = true;
        let pos = 0;
        const up = setInterval(() => {
          if (pos >= 120) {
            clearInterval(up);
            const down = setInterval(() => {
              if (pos <= 0) {
                clearInterval(down);
                isJumping = false;
              }
              pos -= 5;
              player.style.bottom = 50 + pos + "px";
            }, 20);
          }
          pos += 5;
          player.style.bottom = 50 + pos + "px";
        }, 20);
      }

      function resetGame() {
        obstacleX = 600;
        score = 0;
        scoreText.innerText = "Score: 0";
        gameActive = true;
        gameOver.style.display = "none";
        restartBtn.style.display = "none";
        loop();
      }

      function loop() {
        if (!gameActive) return;

        obstacleX -= 6;
        if (obstacleX < -40) {
          obstacleX = 600;
          score++;
          scoreText.innerText = "Score: " + score;
        }

        obstacle.style.right = -obstacleX + "px"; // üëà saƒüdan sola
        const playerRect = player.getBoundingClientRect();
        const obstacleRect = obstacle.getBoundingClientRect();

        // √ßarpƒ±≈üma
        if (
          playerRect.right > obstacleRect.left + 5 &&
          playerRect.left < obstacleRect.right - 5 &&
          playerRect.bottom > obstacleRect.top + 10
        ) {
          gameActive = false;
          gameOver.style.display = "block";
          restartBtn.style.display = "inline-block";
        }

        requestAnimationFrame(loop);
      }

      restartBtn.addEventListener("click", resetGame);
      loop();
    </script>
  </body>
</html>
